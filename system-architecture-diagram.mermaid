graph TD
    A[웹 스크래퍼] -->|텍스트 & 메타데이터 추출| B(텍스트 전처리)
    B --> C{임베딩 생성}
    C -->|희소| D[TF-IDF 벡터화]
    C -->|밀집| E[Upstage 임베딩 모델]
    D --> F[희소 벡터 저장소]
    E --> G[Pinecone 벡터 DB]
    H[사용자 질의] --> I{질의 처리}
    I -->|희소| J[TF-IDF 유사도]
    I -->|밀집| K[Pinecone 유사도 검색]
    J --> L[하이브리드 검색]
    K --> L
    L --> M[컨텍스트 준비]
    M --> N[ChatUpstage LLM]
    N --> O[응답 생성]
    O --> P[응답 정제]
    P --> Q[최종 출력]
    R[현재 시간] --> N
